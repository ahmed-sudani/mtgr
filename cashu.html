<!DOCTYPE html>
<html lang="en" ng-app="mtgr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/card.css">
    <style>
        .my-custom-scrollbar {
            position: relative;
            height: 200px;
            overflow: auto;
        }

        .table-wrapper-scroll-y {
            display: block;
        }

        .splide__arrow {
            top: 65%;
        }
    </style>
    <title>بطاقات كاش يو</title>
</head>

<body ng-controller="card">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark d-lg-none p-0">
        <div class="collapse navbar-collapse bg-dark shadow-lg p-0 " id="navbarCollapse">
            <ul class="navbar-nav mr-auto text-right">
                <li class="nav-item text-left">
                    <a data-toggle="collapse" data-target="#navbarCollapse" style="width: fit-content;"
                        class="nav-link font-weight-bold" href="#"><i
                            class="fa fa-arrow-right rounded bg-white pr-3 pl-3 pt-1 pb-1 fa-lg" style="color: #0090EB;"
                            aria-hidden="true"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold pr-3" href="#">الرئيسية <i class="fa fa-home fa-lg"
                            aria-hidden="true"></i></a>
                </li>
                <li class="nav-item border-top">
                    <a class="nav-link font-weight-bold pr-3" href="#">من نحن <i class="fa fa-users fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
                <li class="nav-item border-top">
                    <a class="nav-link font-weight-bold pr-3" href="#">مشترياتي <i class="fa fa-shopping-cart fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
                <li class="nav-item border-top border-bottom">
                    <a class="nav-link font-weight-bold pr-3" href="#">إتصل بنا <i class="fa fa-envelope fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
            </ul>
            <span style="position: absolute;bottom: 0px;right: 0px;">
                <div class="col mt-2 text-white">
                    <h5 style="text-align: end; font-size: 1rem;">... تابعونا</h5>
                </div>
                <div class="col text-right">
                    <i style=" padding: 5px;color: rgb(255, 255, 255);" class="fa fa-facebook fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-twitter fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-instagram fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-telegram fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-youtube fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-whatsapp fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-envelope fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-snapchat fa-sm"
                        aria-hidden="true"></i>

                </div>
            </span>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg mainHeader"
        style="background-image: url('./images/backgrounds/header.png');background-repeat: no-repeat;background-size: cover">
        <div class="d-none d-lg-block">
            <ul class="nav col-12 justify-content-between" id="sm">
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/visa@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/mastercard@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/bitcoin@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/perfect@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded" style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/cashu@1X.png" alt=""></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" style="color: white!important;">نـحـن نـقـبـل</a>
                </li>
            </ul>
        </div>

        <a href="" class="text-white d-lg-none mt-2" style="font-size: .9rem;">تـسـجـيـل الـدخـول <i
                class="fa fa-shopping-cart fa bg-white p-1 rounded ml-2" style="color: #0090EB;"></i></a>
        <a class="navbar-brand ml-auto" href="#"><img width="150vw" src="./images/لوجو متجر السوادن - white@2x.png"
                alt=""></a>
        <button class="navbar-toggler mt-3 p-0" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <i id="barsBtn" class="fa fa-bars fa-lg text-white" aria-hidden="true"></i>
        </button>
        <ul class="nav mt-5 col-12 p-0 d-lg-none d-md-none d-sm-none" style="flex-wrap: nowrap;">
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/visa@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="80%" src="./images/icons/mastercard@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/bitcoin@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/perfect@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1  rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/paypal@1X.png" alt=""></a>
            </li>
        </ul>
        <div class="input-group mb-3  mt-3 d-md-none">
            <div class="input-group-prepend">
                <i class="fa fa-search fa-2x text-white pl-3 pr-3 pt-1 pb-1 rounded"
                    style="background-image: linear-gradient(to top, #2D5797, #08172A); border: none;"></i>
            </div>
            <input style="height: 40px;" dir="rtl" type="text" class="form-control text-right"
                placeholder="بحث متجر السودان" aria-label="Username" aria-describedby="basic-addon1">
        </div>
    </nav>
    <ul class="nav shadow justify-content-end col-11 pt-2 pb-2 d-none d-lg-flex"
        style=" background-color:#0090EB; left: 4%; right: 5%; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;">

        <li class="nav-item mr-2 ml-5">
            <button class="btn bg-light pl-4 pr-4 text-primary">تسجيــل</button>
        </li>
        <li class="nav-item mr-auto">
            <button class="btn bg-light pl-4 pr-4 text-primary">تسجيل الدخول</button>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">إتصل بنا <i class="fa fa-envelope" aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">مشترياتي <i class="fa fa-shopping-cart"
                    aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">من نحن <i class="fa fa-users" aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">الرئيسية <i class="fa fa-home" aria-hidden="true"></i></a>
        </li>
    </ul>
    <div class="row shadow col-11 rounded mt-4 mb-4 mr-auto ml-auto pb-4">
        <div class="col-md col text-right mt-5 order-md-last">
            <p><a href="">الصفحة الرئيسية</a>/ <a href="">بطاقات التسوق عبر الانترنت</a>/ <a>كاش يو</a></p>
            <h3 class="pt-2 pb-2 pr-5 pl-5 text-white" id="cardName"
                style="background-color:#0090EB; width: fit-content;float: right;">كاش يو</h3>
            <span id="enCardName" class="d-none">cashu</span>
            <img hidden id="cardIcon" src="./images/icons/cashu.png" alt="">
            <img class="mt-4" width="80%" src="./images/icons/pngegg.png" alt="">
            <p class="cardDiscribtion mt-2" dir="rtl">
                <a href="https://www.cashu.com/">https://www.cashu.com</a> <br>
                شركة كاش يو (CASHU) هي محفظة إلكترونية تسمح للمستخدم بالدفع وتحويل المال عبر الإنترنت، وإصدار بطاقات
                ماستركارد الافتراضية والبلاستيكية مسبقة الدفع. وقد تم تأسيس الشركة من قبل شركة مكتوب ("مجموعة جبار
                للإنترنت" حالياً)، ويقع مقرها الرئيسي في مدينة دبي في الإمارات العربية المتحدة.
                تُعد كاش يو الأولى والرائدة في منطقة الشرق الأوسط وشمال أفريقيا في مجال التكنولوجيا المالية، بخدمتها
                أكثر من 2.5 مليون مستخدم في المنطقة، وتوفرها لدى أكثر من 7,000 متجر إلكتروني، وأكثر من 300,000 نقطة بيع
                لشحن رصيد المحفظة الإلكترونية، مما يساعد التجار على تطوير أعمالهم والوصول لملايين المشترين على الإنترنت
                في منطقة الشرق الأوسط وشمال أفريقيا.
            </p>
            <p dir="rtl" class="cardDiscribtion mt-2">
                يقوم متجر السوادن للدفع الالكتروني بتوفير بطاقات كاش يو الالكترونية بمختلف القيم.
            </p>
        </div>
        <div class="col-md text-right mt-5 border-right mt-4">
            <div class="form-group col border-bottom p-0 pb-4 ">
                <label class="col-12 p-0" style="font-size: 1.1rem;" for="countries"> :يرجى اختيار بلد البطاقة</label>
                <select name="country" class="form-control col-9 p-5" id="countries">
                    <option value="0" class="d-none" selected>اختر بلد البطاقة</option>
                    <option value="SD" data-capital="Khartoum">السوادن</option>
                    <option value="EG" data-capital="Cairo">مصر</option>
                    <option value="JO" data-capital="Tirana">الاردن</option>
                    <option value="IR" data-capital="Algiers">العراق</option>
                    <option value="SA" data-capital="Riad">المملكة العربية السعودية</option>
                    <option value="AE" data-capital="AbuDabi">الامارات</option>
                </select>
            </div>
            <div class="form-group col-md-10 ml-auto p-0">
                <label style="font-size: 1.1rem;" for="">:يرجى اختيار قيمة البطاقة</label>
                <div class="table-wrapper-scroll-y my-custom-scrollbar" dir="rtl">
                    <table class="table text-center">
                        <thead>
                            <tr>
                                <th class="th-sm" scope="col">القيمة</th>
                                <th scope="col">السعر</th>
                                <th scope="col">الكمية</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>$10</td>
                                <td>$11</td>
                                <td><span class="input-number-increment">-</span><input class="input-number"
                                        id="input-number1" type="text" value="0" min="0" max="10"><span
                                        class="input-number-decrement">+</span></td>
                            </tr>
                            <tr>
                                <td>$30</td>
                                <td>$30</td>
                                <td><span class="input-number-increment">-</span><input class="input-number"
                                        id="input-number2" type="text" value="0" min="0" max="10"><span
                                        class="input-number-decrement">+</span></td>
                            </tr>
                            <tr>
                                <td>$100</td>
                                <td>$100</td>
                                <td><span class="input-number-increment">-</span><input class="input-number"
                                        id="input-number3" type="text" value="0" min="0" max="10"><span
                                        class="input-number-decrement">+</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-10 text-center ml-auto">
                <button id="addToCart" class="btn btn-primary" disabled>اضافة الي سلة المشتريات</button>
            </div>
            <div class="col-10 text-center mt-2 ml-auto">
                <button class="btn btn-primary" id="buy" disabled> <span id="totalPrice"></span> اتمام العملية
                    الشرائية</button>
            </div>
        </div>
    </div>
    <div class="shadow rounded col-11 mt-4 mb-4 mr-auto ml-auto pt-4 pb-4">
        <h4 class="text-center ml-auto mr-auto pb-2" style="width: fit-content;border-bottom: 3px solid #0090EB;">الشروط
            والأحكام</h4>
        <div class="col text-right">
            <h6>شروط المتجر السوداني</h6>
            <ol class="col" dir="rtl" id="shoroot">
                <li>يمتلك المتجر السوداني الق بتأخير أو رفض أي عملية شرائية.</li>
                <li>قد يتم تحديد قيمة وعدد بطاقات الهدايا والبطاقات المدفوعة التي يمكنك شراؤها.</li>
                <li>يكون التسليم الالكترونيا فقط.</li>
                <li>من الممكن تأخر تسليم بطاقات الهدايا أو البطاقات المدفوعة مسبقا أو شحن الرصيد لعدة ساعات بعد اتمام
                    العملية الشرائية. </li>
                <li>المتجر السوداني غير مسؤول عن اي خسارة ناتجة عن سرقة بطاقات الهدايا أو البطاقات المدفوعة مسبقا أو شحن
                    الرصيد بالخطأ. </li>
                <li>عمليات ارجاع البطاقات أو النقود غير مسموحة.</li>
                <li>في حالة حدوث خلاف لأي سبب كان, أنت تعفي المتجر السوداني (وشركاءها وتابعيها وموظفيها وعملاءها) من أية
                    مسؤولية متعلقة بالخلاف. </li>
            </ol>
            <p class="mt-4 p-0">لمزيد من المعلومات, يرجى زيارة صفحة <a href="">الشروط والأحكام</a></p>
        </div>
    </div>
    <div class="splide d-none d-md-block shadow rounded mb-4 col-11 ml-auto mr-auto mt-5" style="padding: 20px;">
        <div class="splide__track ml-auto mr-auto col-11">
            <h3 class="text-center border-bottom pb-3 mb-5">بطاقات اخرى</h3>
            <ul class="splide__list text-center">
                <li class="splide__slide bg-dark mr-1 rounded p-5"><img width="100%"
                        src="./images/icons/iconfinder-icon.svg" alt="">
                </li>
                <li class="splide__slide pt-5 bg-dark mr-1 rounded"><img width="40%"
                        src="./images/icons/mastercard@1X.png" alt="">
                </li>
                <li class="splide__slide pt-5 bg-dark mr-1 rounded"><img width="40%"
                        src="./images/icons/hiclipart.com.png" alt=""></li>
            </ul>
        </div>
    </div>
    <div class="splide-sm d-sm-none shadow rounded mb-4 col-11 ml-auto mr-auto mt-5" style="padding: 20px;">
        <div class="splide__track ml-auto mr-auto col-11">
            <h3 class="text-center border-bottom pb-3 mb-5">بطاقات اخرى</h3>
            <ul class="splide__list text-center row text-center">
                <li class="splide__slide bg-dark mr-5 ml-5 rounded p-5"><img width="100%"
                        src="./images/icons/iconfinder-icon.svg" alt="">
                </li>
                <li class="splide__slide pt-5 bg-dark mr-5 ml-5 rounded"><img src="./images/icons/mastercard@1X.png"
                        alt="">
                </li>
                <li class="splide__slide pt-5 bg-dark mr-5 ml-5 rounded"><img width="40%"
                        src="./images/icons/hiclipart.com.png" alt=""></li>
            </ul>
        </div>
    </div>
    <footer class="container col-12 p-4">
        <div class="row pb-4">
            <div class="col-md-6 col-lg-4 col-sm-12 mt-5">
                <div class="col p-0">
                    <h5 class="ml-auto" style="font-size: 1.2rem; color: white; width: fit-content;">
                        روابط ذات صلة
                    </h5>
                </div>
                <ul class="row text-right p-0 mt-4">
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                </ul>
            </div>
            <div class="col-sm-12 p-0 col-md mt-4 text-right text-white">
                <div class="col">
                    <img style="width: 170px;" src="./images/لوجو متجر السوادن - white@3x.png" alt="">
                </div>
                <div class="col mt-2">
                    <h5 style="font-size: 1.2rem;">... تابعونا</h5>
                </div>
                <div class="col">
                    <i style=" padding: 5px;color: rgb(255, 255, 255);" class="fa fa-facebook fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-twitter fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-instagram fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-telegram fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-youtube fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-whatsapp fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-envelope fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-snapchat fa-lg"
                        aria-hidden="true"></i>

                </div>
                <div class="row col p-0 mt-3 justify-content-end">
                    <a href=""><img class="mr-2" style="width:125px;" height="50px"
                            src="./images/icons/getgoogleplay.png" alt=""></a>
                    <a href=""><img style="width: 125px;" height="50px" src="./images/icons/getonplay.png" alt=""></a>
                </div>
                <div class="col mt-3">
                    <h1 style="font-size: .8rem;" class="text-white text-right mb-0">جميع الحقوق محفوظة للمتجر
                        السودانى 2019 -
                        2020
                    </h1>
                </div>

            </div>
        </div>
    </footer>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<script>
    new Splide('.splide', {
        fixedWidth: '26vw',
        perPage: 3,
        perMove: 1,
        autoplay: true,
    }).mount();
    new Splide('.splide-sm', {
        fixedWidth: '66.5vw',
        perPage: 1,
        perMove: 1,
        autoplay: true,
        type: 'loop',

    }).mount();
    $('#barsBtn').on("click", () => {
        $('#slideMenue').show()
    })
</script>
<script>
    function format(item, state) {
        if (!item.id) {
            return item.text;
        }
        var countryUrl = "https://hatscripts.github.io/circle-flags/flags/";
        var stateUrl = "https://oxguy3.github.io/flags/svg/us/";
        var url = state ? stateUrl : countryUrl;
        var img = $("<img>", {
            class: "img-flag",
            width: 26,
            src: url + item.element.value.toLowerCase() + ".svg"
        });
        var span = $("<span>", {
            text: " " + item.text
        });
        span.prepend(img);
        return span;
    }

    $(document).ready(function () {
        $("#countries").select2({
            templateResult: function (item) {
                return format(item, false);
            }
        });
    })
</script>
<script>
    let card = {
        id: null,
        country: null,
        cardPrice: null,
        paidPrice: null,
        count: null,
        cardName: document.getElementById("cardName").innerText,
        cardIcon: document.getElementById("cardIcon").src,
    }
    let localStorageCards = JSON.parse(localStorage.getItem("cards"))
    let cards
    let newCardsAdded = 0
    let totalCardsPrice = 0
    if (localStorageCards) {
        cards = localStorageCards.cards
    } else {
        cards = []
    }
    const updateCard = (cardIndex, value) => {
        cards[cardIndex].count = value
        cards[cardIndex].country = $("#countries option:selected").text();
    }
    const foundInCards = (id) => {
        for (let index = 0; index < cards.length; index++) {
            const element = cards[index];
            if (element.id === id)
                return index
        }
        return -1
    }
</script>
<script>
    (function () {

        window.inputNumber = function (el) {

            var min = el.attr('min') || false;
            var max = el.attr('max') || false;

            var els = {};

            els.dec = el.prev();
            els.inc = el.next();

            el.each(function () {
                init($(this));
            });

            function init(el) {

                els.dec.on('click', decrement);
                els.inc.on('click', increment);

                function decrement(e) {
                    newCardsAdded--
                    var value = el[0].value;
                    value--;
                    if (!min || value >= min) {
                        el[0].value = value;
                    }
                    const rootEle = e.target.parentElement.parentElement
                    let newCard = { ...card }
                    newCard.id = $("#enCardName").text() + rootEle.firstElementChild.innerText + $("#countries").val()
                    newCard.paidPrice = rootEle.firstElementChild.nextElementSibling.innerText

                    // if (el[0].value == 0) {
                    //     totalCardsPrice = totalCardsPrice
                    // }
                    // else
                    //     totalCardsPrice -= parseInt(newCard.paidPrice.replace("$", ""))
                    // $("#totalPrice").text(`$${totalCardsPrice}`)


                    const cardIndex = foundInCards(newCard.id)

                    if (cardIndex < 0) {
                        return
                    }

                    if (el[0].value == 0) {
                        cards.splice(cardIndex, 1)
                    }
                    else {
                        updateCard(cardIndex, el[0].value)
                    }
                    if (!cards.length) {
                        disableButtons(true)
                    }
                }
                function increment(e) {
                    newCardsAdded++
                    disableButtons(false)
                    var value = el[0].value;
                    value++;
                    if (!max || value <= max) {
                        el[0].value = value++;
                    }
                    const rootEle = e.target.parentElement.parentElement
                    let newCard = { ...card }
                    newCard.id = $("#enCardName").text() + rootEle.firstElementChild.innerText + $("#countries").val()
                    newCard.count = el[0].value
                    newCard.cardPrice = rootEle.firstElementChild.innerText
                    newCard.paidPrice = rootEle.firstElementChild.nextElementSibling.innerText
                    newCard.country = $("#countries option:selected").text();
                    const cardIndex = foundInCards(newCard.id)

                    // console.log(parseInt(value) - 1 < parseInt(max));
                    // if (parseInt(value) - 1 != parseInt(max))
                    //     totalCardsPrice += parseInt(newCard.paidPrice.replace("$", ""))
                    // $("#totalPrice").text(`$${totalCardsPrice}`)

                    if (cardIndex >= 0) {
                        console.log("OKKK");
                        updateCard(cardIndex, el[0].value)
                        return;
                    }

                    cards.push(newCard)


                }
            }
        }
    })();

    inputNumber($('#input-number1'));
    inputNumber($('#input-number2'));
    inputNumber($('#input-number3'));

</script>
<script>
    angular.module('mtgr', [])
        .controller('card', async ($scope, $http) => {
        })
</script>
<script>
    const items = document.getElementsByClassName("input-number")
    const disableNumberInput = (disabled) => {
        for (let index = 0; index < items.length; index++) {
            const element = items[index];
            const numIncrement = document.getElementsByClassName("input-number-increment")[index]
            const numDecrement = document.getElementsByClassName("input-number-decrement")[index]
            if (disabled) {
                numIncrement.setAttribute("hidden", true)
                numDecrement.setAttribute("hidden", true)
                element.setAttribute("disabled", true)
            }
            else {
                numIncrement.removeAttribute("hidden")
                numDecrement.removeAttribute("hidden")
                element.removeAttribute("disabled")
            }
        }
    }
    const disableButtons = (disabled) => {
        if (disabled) {
            $("#buy").attr("disabled", disabled)
            $("#addToCart").attr("disabled", disabled)
        }
        else {
            $("#buy").removeAttr("disabled")
            $("#addToCart").removeAttr("disabled")
        }
    }
    $("#addToCart").on("click", function (e) {
        let myCards = {
            cards: cards
        }
        localStorage.setItem("cards", JSON.stringify(myCards))
        setTimeout(() => {
            location.assign("/shoppingCart.html")
        }, 2000)
    })
    $("#countries").on("change", function (e) {
        if (e.target.value === "0") {
            disableNumberInput(true)
            disableButtons(true)
            return;
        }
        disableNumberInput(false)
        if (newCardsAdded)
            disableButtons(false)
    })
    disableNumberInput(true)
</script>

</html>