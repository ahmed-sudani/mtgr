<!DOCTYPE html>
<html lang="en" ng-app="mtgr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/card.css">
    <style>
        td,
        th {
            border: none !important;
        }

        .sm-text {
            font-family: "Frutiger LT Arabic 45 Light";
        }
    </style>
    <style>
        .my-custom-scrollbar {
            position: relative;
            overflow: auto;
            width: 100%;
            max-height: 500px;
        }

        .table-wrapper-scroll-y {
            display: block;
        }

        .splide__arrow {
            top: 65%;
        }

        @media (max-width: 680px) {

            .input-number-increment,
            .input-number-decrement {
                display: none;
            }

            .input-number {
                width: 25px;
                float: right;
                padding: 0%;
            }
        }
    </style>
    <title>سلة المشتريات</title>
</head>

<body ng-controller="shoppingCart">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark d-lg-none p-0">
        <div class="collapse navbar-collapse bg-dark p-0" id="navbarCollapse">
            <ul class="navbar-nav mr-auto text-right">
                <li class="nav-item text-left">
                    <a data-toggle="collapse" data-target="#navbarCollapse" style="width: fit-content;"
                        class="nav-link font-weight-bold" href="#"><i
                            class="fa fa-arrow-right rounded bg-white pr-3 pl-3 pt-1 pb-1 fa-lg" style="color: #0090EB;"
                            aria-hidden="true"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold pr-3" href="#">الرئيسية <i class="fa fa-home fa-lg"
                            aria-hidden="true"></i></a>
                </li>
                <li class="nav-item border-top">
                    <a class="nav-link font-weight-bold pr-3" href="#">من نحن <i class="fa fa-users fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
                <li class="nav-item border-top">
                    <a class="nav-link font-weight-bold pr-3" href="#">مشترياتي <i class="fa fa-shopping-cart fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
                <li class="nav-item border-top border-bottom">
                    <a class="nav-link font-weight-bold pr-3" href="#">إتصل بنا <i class="fa fa-envelope fa-lg"
                            aria-hidden="true"></i>
                    </a>
                </li>
            </ul>
            <span style="position: absolute;bottom: 0px;right: 0px;">
                <div class="col mt-2 text-white">
                    <h5 style="text-align: end; font-size: 1rem;">... تابعونا</h5>
                </div>
                <div class="col text-right">
                    <i style=" padding: 5px;color: rgb(255, 255, 255);" class="fa fa-facebook fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-twitter fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-instagram fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-telegram fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-youtube fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-whatsapp fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-envelope fa-sm"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-snapchat fa-sm"
                        aria-hidden="true"></i>

                </div>
            </span>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg mainHeader"
        style="background-image: url('./images/backgrounds/header.png');background-repeat: no-repeat;background-size: cover">
        <div class="d-none d-lg-block">
            <ul class="nav col-12 justify-content-between" id="sm">
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/visa@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/mastercard@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/bitcoin@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded mr-2"
                    style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/perfect@1X.png" alt=""></a>
                </li>
                <li class="nav-item rounded" style="background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                    <a class="nav-link"><img width="40px" src="./images/icons/cashu@1X.png" alt=""></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" style="color: white!important;">نـحـن نـقـبـل</a>
                </li>
            </ul>
        </div>

        <a href="" class="text-white d-lg-none mt-2" style="font-size: .9rem;">تـسـجـيـل الـدخـول <i
                class="fa fa-shopping-cart fa bg-white p-1 rounded ml-2" style="color: #0090EB;"></i></a>
        <a class="navbar-brand ml-auto" href="#"><img width="150vw" src="./images/لوجو متجر السوادن - white@2x.png"
                alt=""></a>
        <button class="navbar-toggler mt-3 p-0" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <i id="barsBtn" class="fa fa-bars fa-lg text-white" aria-hidden="true"></i>
        </button>
        <ul class="nav mt-5 col-12 p-0 d-lg-none d-md-none d-sm-none" style="flex-wrap: nowrap;">
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/visa@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="80%" src="./images/icons/mastercard@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/bitcoin@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1 mr-1 rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/perfect@1X.png" alt=""></a>
            </li>
            <li class="col pl-1 pr-1  rounded"
                style="height: 40px; background-image: linear-gradient(to bottom, #FFFFFF, #E3E3E3);">
                <a class="nav-link"><img width="100%" src="./images/icons/paypal@1X.png" alt=""></a>
            </li>
        </ul>
        <div class="input-group mb-3  mt-3 d-md-none">
            <div class="input-group-prepend">
                <i class="fa fa-search fa-2x text-white pl-3 pr-3 pt-1 pb-1 rounded"
                    style="background-image: linear-gradient(to top, #2D5797, #08172A); border: none;"></i>
            </div>
            <input style="height: 40px;" dir="rtl" type="text" class="form-control text-right"
                placeholder="بحث متجر السودان" aria-label="Username" aria-describedby="basic-addon1">
        </div>
    </nav>
    <ul class="nav shadow justify-content-end col-11 pt-2 pb-2 d-none d-lg-flex"
        style=" background-color:#0090EB; left: 4.5%; right: 5%; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;">

        <li class="nav-item mr-2 ml-5">
            <button class="btn bg-light pl-4 pr-4 text-primary">تسجيــل</button>
        </li>
        <li class="nav-item mr-auto">
            <button class="btn bg-light pl-4 pr-4 text-primary">تسجيل الدخول</button>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">إتصل بنا <i class="fa fa-envelope" aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">مشترياتي <i class="fa fa-shopping-cart"
                    aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">من نحن <i class="fa fa-users" aria-hidden="true"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link font-weight-bold" href="#">الرئيسية <i class="fa fa-home" aria-hidden="true"></i></a>
        </li>
    </ul>
    <div class="container shadow col-11 rounded mt-4 ">
        <div class="rounded border-bottom col pb-4 pt-4">
            <h3 class="text-right col-12 ml-auto mr-auto p-2 p-0"> <i style="color: #0090EB;"
                    class="fa fa-shopping-cart" aria-hidden="true"></i> سلة <span>المشتريات</span>
            </h3>
            <div class="row">
                <div class="col mt-3">
                    <i class="fa fa-trash fa-lg mt-2 text-danger" aria-hidden="true"></i>
                    <a class="sm-text text-danger" ng-click="cards = []" onclick="localStorage.removeItem('cards');"
                        href="">تفريغ سلة
                        المشتريات</a>
                </div>
                <div class="col mt-3">
                    <i class="fa fa-save fa-lg mt-2 text-primary" aria-hidden="true"></i>
                    <a class="sm-text" href="">تحديث محتويات السلة</a>
                </div>
                <div class="input-group mt-3 col-lg-6 ml-auto">
                    <input style="height: 40px;" dir="rtl" type="text" class="form-control sm-text text-right"
                        placeholder="ابحث عن بطاقة" ng-model="filter" aria-label="Username"
                        aria-describedby="basic-addon1">
                </div>
            </div>
        </div>
        <div class="form-group col-12 ml-auto pb-4 mt-4 rounded ml-auto mr-auto">
            <div class="table-wrapper-scroll-y my-custom-scrollbar">
                <table class="table text-right" style="border-collapse: separate; border-spacing:1em;">
                    <thead>
                        <tr ng-show="(cards | filter : findCard).length != 0">
                            <th></th>
                            <th scope="col">الكمية</th>
                            <th scope="col">السعر</th>
                            <th class="d-none d-sm-block" scope="col">القيمة</th>
                            <th scope="col">البلد</th>
                            <th scope="col">البطاقة</th>
                        </tr>
                    </thead>
                    <tbody>
                        <h1 ng-show="!cards.length" class="text-center text-info"> السلة فارغة قم بتعبئة السلة من الصفحة
                            الرئيسية</h1>
                        <h1 class="text-center text-info"
                            ng-show="(cards | filter : findCard).length == 0 && cards.length">لا توجد
                            نتائج مطابقة</h1>
                        <tr ng-repeat="card in cards  | filter : findCard" class="shadow-sm">
                            <td><i class="fa fa-trash fa mt-2 text-danger" ng-click="deleteItem($index, card.id)"
                                    style=" float: left;cursor: pointer;" aria-hidden="true"></i>
                            </td>
                            <td class="pl-0">
                                <select class="custom-select" style="width: 100px;" name="" id="">
                                    <option ng-selected="card.count == 1" value="1">1</option>
                                    <option ng-selected="card.count == 2" value="2">2</option>
                                    <option ng-selected="card.count == 3" value="3">3</option>
                                    <option ng-selected="card.count == 4" value="4">4</option>
                                    <option ng-selected="card.count == 5" value="5">5</option>
                                    <option ng-selected="card.count == 6" value="6">6</option>
                                    <option ng-selected="card.count == 7" value="7">7</option>
                                    <option ng-selected="card.count == 8" value="8">8</option>
                                    <option ng-selected="card.count == 9" value="9">9</option>
                                    <option ng-selected="card.count == 10" value="10">10</option>
                                </select>
                            </td>
                            <td>{{card.paidPrice}}</td>
                            <td class="d-none d-md-block">{{card.cardPrice}}</td>
                            <td>{{card.country}}</td>
                            <td>{{card.cardName}}
                                <img width="50px" src="{{card.cardIcon}}" alt="">
                            </td>
                        </tr>
                    </tbody>

                </table>

            </div>
            <span ng-show="(cards | filter : findCard).length != 0">
                <!-- <div class="col text-center mb-2">
                    <button ng-disabled="!cards.length" class="btn btn-primary"> حفظ السلة</button>
                </div> -->
                <div class="col text-center mb-2 mt-4">
                    <button ng-disabled="!cards.length" class="btn btn-primary">اتمام العملية الشرائية</button>
                </div>
            </span>
        </div>
    </div>
    <div class="splide d-none d-md-block shadow rounded mb-4 col-11 ml-auto mr-auto mt-5" style="padding: 20px;">
        <div class="splide__track ml-auto mr-auto col-11">
            <h3 class="text-center border-bottom pb-3 mb-5">بطاقات اخرى</h3>
            <ul class="splide__list text-center">

                <li class="splide__slide pt-5 bg-dark mr-1 rounded"><img src="./images/icons/mastercard@1X.png" alt="">
                </li>
                <li class="splide__slide bg-dark mr-1 rounded p-5"><img width="100%"
                        src="./images/icons/iconfinder-icon.svg" alt="">
                </li>
                <li class="splide__slide pt-5 bg-dark mr-1 rounded"><img width="80%" src="./images/icons/pngegg.png"
                        alt=""></li>
            </ul>
        </div>
    </div>
    <footer class="container col-12 pt-4 pl-4 pr-4">
        <div class="row pb-4">
            <div class="col-md-6 col-lg-4 col-sm-12 mt-5">
                <div class="col p-0">
                    <h5 class="ml-auto" style="font-size: 1.2rem; color: white; width: fit-content;">
                        روابط ذات صلة
                    </h5>
                </div>
                <ul class="row text-right p-0 mt-4">
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-1"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                    <li class="col-4 mt-3"><a href="">رابط نصي</a></li>
                </ul>
            </div>
            <div class="col-sm-12 p-0 col-md mt-4 text-right text-white">
                <div class="col">
                    <img style="width: 170px;" src="./images/لوجو متجر السوادن - white@3x.png" alt="">
                </div>
                <div class="col mt-2">
                    <h5 style="font-size: 1.2rem;">... تابعونا</h5>
                </div>
                <div class="col">
                    <i style=" padding: 5px;color: rgb(255, 255, 255);" class="fa fa-facebook fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-twitter fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-instagram fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-telegram fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-youtube fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-whatsapp fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px; color: rgb(255, 255, 255);" class="fa fa-envelope fa-lg"
                        aria-hidden="true"></i>
                    <i style="padding: 5px;  color: rgb(255, 255, 255);" class="fa fa-snapchat fa-lg"
                        aria-hidden="true"></i>

                </div>
                <div class="row col p-0 mt-3 justify-content-end">
                    <a href=""><img class="mr-2" style="width:125px;" height="50px"
                            src="./images/icons/getgoogleplay.png" alt=""></a>
                    <a href=""><img style="width: 125px;" height="50px" src="./images/icons/getonplay.png" alt=""></a>
                </div>
                <div class="col mt-3">
                    <h1 style="font-size: .8rem;" class="text-white text-right mb-0">جميع الحقوق محفوظة للمتجر
                        السودانى 2019 -
                        2020
                    </h1>
                </div>

            </div>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script>
        new Splide('.splide', {
            fixedWidth: '26vw',
            // type: 'loop',
            perPage: 3,
            perMove: 1,
            autoplay: true,
        }).mount();
        $('#barsBtn').on("click", () => {
            $('#slideMenue').show()
        })
    </script>
    <script>
        let localStorageCards = JSON.parse(localStorage.getItem("cards"))
        let cards
        if (localStorageCards) {
            cards = localStorageCards.cards
        } else {
            cards = []
        }
    </script>
    <script>
        angular.module('mtgr', [])
            .controller('shoppingCart', async ($scope, $http) => {
                $scope.cards = cards
                $scope.findCard = function (card) {
                    return card.cardName.search($scope.filter) != -1
                        || card.country.search($scope.filter) != -1
                        || card.cardPrice.search($scope.filter) != -1
                        || card.paidPrice.search($scope.filter) != -1
                        || !$scope.filter;
                }

                $scope.deleteItem = (index, id) => {
                    console.log(cards);
                    cards.splice(index, 1)
                    // $scope.cards.splice(index, 1)
                    console.log(cards);
                }
            })
    </script>
    <script>
            (function () {

                window.inputNumber = function (el) {

                    var min = el.attr('min') || false;
                    var max = el.attr('max') || false;

                    var els = {};

                    els.dec = el.prev();
                    els.inc = el.next();

                    el.each(function () {
                        init($(this));
                    });

                    function init(el) {

                        els.dec.on('click', decrement);
                        els.inc.on('click', increment);

                        function decrement() {
                            var value = el[0].value;
                            value--;
                            if (!min || value >= min) {
                                el[0].value = value;
                            }
                        }

                        function increment() {
                            var value = el[0].value;
                            value++;
                            if (!max || value <= max) {
                                el[0].value = value++;
                            }
                        }
                    }
                }
            })();
        inputNumber($('#input-number1'));
        inputNumber($('#input-number2'));
        inputNumber($('#input-number3'));
    </script>

</body>

</html>